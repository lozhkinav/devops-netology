# Домашнее задание к занятию "10.01. Зачем и что нужно мониторить"

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя 
платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. Взаимодействие с платформой 
осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы
выведите в мониторинг и почему?

```
Мои предложения следющие:
1. Нагрузка СPU, загрузка (место) Накопители (Диски), Загрузка памяти память хоста на котором запущено приложение
2. Нагрузка СPU, загрузка (место) Накопители (Диски), Загрузка памяти память хоста на котором запущено БД, если это отдельный хост
3. Время запси/чтения диска, покажет доступность дисковой подсистемы
4. Доступность страницы приложения, открытие страницы  - с кодом 200, если ПО с WEBUI то проверку осуществлять на удачнотсть авторизации (при отсутсвии штатного Healthcheck)
5. Если ПО работает в виде службы - проверку работосопособности служьбы, или альетрнативно проверка запущенного процесса
6. Количество открытых соединение с хостом /сервисом
7. Проверка доступности БД (connect до БД)
8. Проверка времени выполнения запроса если такое доступно, если в БД пишутся данные регулярно с указанием времени записи, то можно проверять время помледей записи/изменения и 9. оценить активность ПО
10. Мониторинг БД на предмет долгоработающих блокировок
11. Если используются регламеннтые задачи/джобы - проверка их выполнения(успешного завершения) по регламенту
12. Проверка Учетных записей на предмет блокировки - работоспособность ТУЗ
13. Проверка доступности сетевого соедниение между хоставми работающими в связске с сервисом (приложение и БД в данном случае)
14. Нагрузка на сетвой интерфейс.
16. Доступность порта до хоста (простые telnet и ping как минимум)
```

2. Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. Также он сказал, 
что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы 
можете ему предложить?
```
CPU - нагруженность(задержки на комманд процесса) процессора (нагрузка на приложение)
inodes - загруженность файлово системы (нагрузка ПО на формирование отчетов:кол-во отчетов)
RAM -  загруженность оперативной памяти

Предолжу заключить соглашение по дополнительным метрикам (в дополнение можно и SLA к ним)
1. Время формирования отчета, можно разбить на несколько метрик : среднее время, а так же минимальное и максимальное время
2. Количество ошибок при формировании отчетов, точнее количество отчетов с ошибокй, завершившихся неудачно (не испольненных)
3. Доступность приложения в разрезе времени (отклик на работоспособность)

```

3. Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики в свою 
очередь хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, 
чтобы разработчики получали ошибки приложения?
```
Все зависит от бюджета
вариант 1 : Классический вариант текстовые логи хранить на сетевом ресурсе (расшарить ресурс) и давать доступ кому необходимо (естественно на чтение)
Вариант 2 : Использовать систему сбора логов (стэк ELK), предоставить доступ в КИбану для разработчиков на соответсвующие пространства, 
            можно использовать будет в других проектах, и удобнее поиск

```

4. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов. 
Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. Данный параметр не поднимается выше 
70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?

```
Коды ответов 300-399 - редректы, так же нужно учитывать как успешные, т.к. они не являются по своей сути ошибками, особенно если это в сервисе имеет место быть
Так же коды 100-199 - тинформационные сообщения, которые в свою очередь не являются ошибками.
код 2** - разумно использовать как проверку доступности сервиса, а не едиснтвенный признак работоспособности.

```
